(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-351d","chunk-574c","chunk-5c52"],{"8Lhh":function(t,e,n){"use strict";var a=n("WENq");n.n(a).a},"9UEW":function(t,e,n){},EqIy:function(t,e,n){"use strict";n.r(e);var a=n("14Xm"),i=n.n(a),r=n("D3Ub"),o=n.n(r),l=n("XINx"),c=n("Rut5"),s=n("Vt1q"),u=n("rG1V"),d=n("f8Ow"),p=n("TS3p"),m=n("7Qib"),h=n("vDqi"),f=n.n(h),v={name:"Total",directives:{elDragDialog:l.a},components:{TotalTable:d.default,TotalCharts:p.default,DatePicker:c.a},data:function(){return{bodyWidth:window.screen.width-13,tankNo:"",tankOptions:[],getOriginalData:[],activeName:"first",dialogTableVisible:!1,exportData:[],pageSize:[15,30,45,60],listQuery:{pageNum:1,pageRow:15},total:0,timeValue:null,tankNoDia:"",cycleOptions:[],cycleStartNo:"",cycleEndNo:"",multipleSelection:[]}},mounted:function(){this.getTankList()},methods:{getTankList:function(){var t=this;Object(s.e)({status:"1"}).then(function(e){t.tankOptions=e})},getData:function(){this.tankNo?(this.$refs.charts.getTankNo(1,this.tankNo),this.$refs.table.getTankNo(1,this.tankNo)):this.$message.warning("请选择油罐")},handleSizeChange:function(t){this.listQuery.pageRow=t,this.listQuery.pageNum=1,this.showExport()},handleCurrentChange:function(t){this.listQuery.pageNum=t,this.showExport()},getCycle:function(t){var e=this;this.cycleOptions=[],this.cycleStartNo="",this.cycleEndNo="",Object(u.d)({tankNo:t}).then(function(t){e.cycleOptions=t.records})},openDia:function(){var t=this;this.tankNoDia="",this.cycleOptions=[],this.cycleStartNo="",this.cycleEndNo="",this.timeValue=null,this.dialogTableVisible=!0,this.$nextTick(function(){t.$refs.timeVue.getTime(null)})},showExport:function(){var t=this;o()(i.a.mark(function e(){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.multipleSelection=[],t.listQuery.tankNo=t.tankNoDia||null,t.listQuery.start_delivery_id=t.cycleStartNo>t.cycleEndNo?t.cycleEndNo:t.cycleStartNo||null,t.listQuery.end_delivery_id=t.cycleStartNo<t.cycleEndNo?t.cycleEndNo:t.cycleStartNo||null,t.listQuery.startTime=t.timeValue?Object(m.g)(t.timeValue[0]):null,t.listQuery.endTime=t.timeValue?Object(m.g)(t.timeValue[1]):null,e.next=9,Object(u.f)(t.listQuery);case 9:n=e.sent,t.exportData=n.records,t.total=n.total,t.$nextTick(function(){t.exportData.forEach(function(e){e.flag||t.$refs.multipleTable.toggleRowSelection(e,!0)})}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0);case 18:case"end":return e.stop()}},e,t,[[0,15]])}))()},handleSelectionChange:function(t){this.multipleSelection=t},exportDataM:function(){var t=this;if(0===this.multipleSelection.length)this.$message.warning("请选择要导出的数据");else{var e=[];this.multipleSelection.forEach(function(t){var n=e.filter(function(e){return t.tankNo===e.tankNo});0===e.length||0===n.length?e.push({tankNo:t.tankNo,deliveryIds:t.deliveryId}):e.forEach(function(e){t.tankNo===e.tankNo&&(e.deliveryIds+=","+t.deliveryId)})}),Object(u.a)(e).then(function(e){var n=[];if(e.length>0){e.forEach(function(t){n.push({value:t})});var a=t;f()({method:"POST",url:"http://localhost:9099/tankchartdc/export/download",data:n,responseType:"blob"}).then(function(t){var e=new Blob([t.data],{type:"application/zip"}),n=window.URL.createObjectURL(e),i=document.createElement("a");i.href=n,i.download="导出文件",i.click(),URL.revokeObjectURL(n),a.showExport()}).catch(function(e){return t.$message.error(e)})}else t.$message.success("所选周期无数据")})}},getNewTime:function(t){this.timeValue=t}}},g=(n("mxjc"),n("KHd+")),y=Object(g.a)(v,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"container"}},[n("div",{attrs:{id:"top"}},[n("span",{staticClass:"font-size"},[t._v("\n      罐号:\n    ")]),t._v(" "),n("el-select",{staticStyle:{width:"100px"},attrs:{clearable:"",placeholder:"请选择"},model:{value:t.tankNo,callback:function(e){t.tankNo=e},expression:"tankNo"}},t._l(t.tankOptions,function(t){return n("el-option",{key:t.tankNo,attrs:{label:t.detailInfo,value:t.tankNo}})})),t._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.getData}},[t._v("\n      搜索\n    ")]),t._v(" "),n("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(e){t.openDia(),t.showExport()}}},[t._v("\n      数据导出\n    ")])],1),t._v(" "),n("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"容积表诊断",name:"first"}},[n("total-charts",{ref:"charts"})],1),t._v(" "),n("el-tab-pane",{attrs:{label:"容积表误差分析",name:"second"}},[n("total-table",{ref:"table"})],1)],1),t._v(" "),n("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:t.dialogTableVisible,width:"1200px",title:"数据导出"},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[n("div",{attrs:{id:"top"}},[n("span",{staticStyle:{"font-size":"16px"}},[t._v("\n        罐号:\n      ")]),t._v(" "),n("el-select",{staticStyle:{width:"100px"},attrs:{clearable:"",placeholder:"请选择"},on:{change:t.getCycle},model:{value:t.tankNoDia,callback:function(e){t.tankNoDia=e},expression:"tankNoDia"}},t._l(t.tankOptions,function(t){return n("el-option",{key:t.tankNo,attrs:{label:t.detailInfo,value:t.tankNo}})})),t._v(" "),n("span",{staticStyle:{"font-size":"16px"}},[t._v("\n        周期数:\n      ")]),t._v(" "),n("el-select",{staticStyle:{width:"100px"},attrs:{clearable:"",placeholder:"请选择"},model:{value:t.cycleStartNo,callback:function(e){t.cycleStartNo=e},expression:"cycleStartNo"}},t._l(t.cycleOptions,function(t){return n("el-option",{key:t.deliveryId,attrs:{label:t.deliveryId,value:t.deliveryId}})})),t._v(" "),t.cycleOptions.length>1?n("div",{staticStyle:{display:"inline"}},[t._v("\n        至\n        "),n("el-select",{staticStyle:{width:"100px"},attrs:{clearable:"",placeholder:"请选择"},model:{value:t.cycleEndNo,callback:function(e){t.cycleEndNo=e},expression:"cycleEndNo"}},t._l(t.cycleOptions,function(t){return n("el-option",{key:t.deliveryId,attrs:{label:t.deliveryId,value:t.deliveryId}})}))],1):t._e(),t._v(" "),n("span",{staticStyle:{"font-size":"16px"}},[t._v("\n        "+t._s(t.$t("table.time"))+":\n      ")]),t._v(" "),n("DatePicker",{ref:"timeVue",attrs:{"time-value":t.timeValue},on:{getTime:t.getNewTime}}),t._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.listQuery.pageNum=1,t.showExport()}}},[t._v("\n        搜索\n      ")]),t._v(" "),n("div",{staticStyle:{float:"right"}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:t.exportDataM}},[t._v("\n          "+t._s(t.$t("table.export"))+"\n        ")])],1)],1),t._v(" "),n("el-table",{ref:"multipleTable",attrs:{data:t.exportData,height:500},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),n("el-table-column",{attrs:{property:"tankNo",label:"罐号","min-width":"80"}}),t._v(" "),n("el-table-column",{attrs:{property:"deliveryId",label:"周期id","min-width":"80"}}),t._v(" "),n("el-table-column",{attrs:{property:"startTime",label:"开始时间","min-width":"160"}}),t._v(" "),n("el-table-column",{attrs:{property:"endTime",label:"结束时间","min-width":"160"}}),t._v(" "),n("el-table-column",{attrs:{property:"lastTime",label:"最后一次导出时间","min-width":"160"}})],1),t._v(" "),n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"current-page":t.listQuery.pageNum,"page-size":t.listQuery.pageRow,total:t.total,"page-sizes":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",background:""},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)},[],!1,null,"2002add5",null);y.options.__file="total_charts.vue";e.default=y.exports},Rut5:function(t,e,n){"use strict";var a=n("7Qib"),i={name:"DatePicker",props:{timeValue:{type:Array,default:function(){return[]}}},data:function(){return{timeList:this.timeValue,pickerOptions:this.timePick()}},methods:{getTime:function(t){this.timeList=t},timePick:function(t){var e=Object(a.g)((new Date).getTime()-864e5).split(" ")[0],n=Object(a.g)((new Date).getTime()-1728e5).split(" ")[0],i=Object(a.g)((new Date).getTime()-5184e5).split(" ")[0];return{shortcuts:[{text:this.$t("table.today"),onClick:function(t){var e=new Date,n=new Date;e.setTime(new Date(e.toLocaleDateString()).getTime()),t.$emit("pick",[e,n])}},{text:this.$t("table.yesterday"),onClick:function(t){var n=e+" 00:00:00",a=e+" 23:59:59";t.$emit("pick",[n,a])}},{text:this.$t("table.nearly_three_days"),onClick:function(t){var e=n+" 00:00:00",a=new Date;t.$emit("pick",[e,a])}},{text:this.$t("table.nearly_aweek"),onClick:function(t){var e=i+" 00:00:00",n=new Date;t.$emit("pick",[e,n])}}]}},changeTime:function(t){this.$emit("getTime",t)}}},r=n("KHd+"),o=Object(r.a)(i,function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-date-picker",{attrs:{"start-placeholder":t.$t("table.startTime"),"end-placeholder":t.$t("table.endTime"),"picker-options":t.pickerOptions,type:"datetimerange",align:"right"},on:{change:t.changeTime},model:{value:t.timeList,callback:function(e){t.timeList=e},expression:"timeList"}})},[],!1,null,null,null);o.options.__file="index.vue";e.a=o.exports},TS3p:function(t,e,n){"use strict";n.r(e);var a=n("XINx"),i=n("b6Zz"),r=n("rG1V"),o=n("7Qib"),l=n("X4fA"),c={name:"TotalCharts",directives:{elDragDialog:a.a},components:{TraceRelation:i.default},data:function(){return{myChart:"",tableHeight:innerHeight-310,bodyWidth:window.screen.width,dialogVisible:!1,flag:!1,pageNum:1,tankNo:"",username:"admin",cycleList:[],detailList:[]}},mounted:function(){this.username=Object(l.b)()},activated:function(){this.myChart&&this.getTankNo(1,this.tankNo)},methods:{getTankNo:function(t,e){var n=this;this.cycleList=[],this.pageNum=t,this.tankNo=e;var a={tankNo:this.tankNo,pageNum:this.pageNum};this.myChart&&(this.myChart.clear(),this.myChart.dispose()),Object(r.b)(a).then(function(t){n.flag=n.pageNum<t.info.totalPage;var e=t.info.list;if(e.length>0){var a=[],i=[],r=[],o=[];e.forEach(function(t,e){if(t.innerCorrectingDTOs.length>0){var l=t.cycleId;n.cycleList.push({delivery:"周期"+t.deliveryId,cycleId:t.cycleId});var c=t.innerCorrectingDTOs[0].startLevel,s=t.innerCorrectingDTOs[0].startLevel,u=t.innerCorrectingDTOs[0].startTime,d=t.innerCorrectingDTOs[0].startTime;t.innerCorrectingDTOs.forEach(function(e,n){u=u<e.dbInventoryTrace.startTime?u:e.dbInventoryTrace.startTime,d=d>e.dbInventoryTrace.startTime?d:e.dbInventoryTrace.startTime,c=c<e.dbInventoryTrace.startLevel?c:e.dbInventoryTrace.startLevel,s=s>e.dbInventoryTrace.startLevel?s:e.dbInventoryTrace.startLevel,t.innerCorrectingDTOs.length,a.push({value:[e.dbInventoryTrace.startTime,e.dbInventoryTrace.startLevel,t.cycleId]}),i.push({value:[e.dbInventoryTrace.endTime,e.inventoryRate.toFixed(3)]}),r.push({value:[e.dbInventoryTrace.endTime,e.outRate.toFixed(3)]})}),o.push([{name:"周期"+t.deliveryId,value:l,coord:[u,Math.floor(c)]},{coord:[d,Math.ceil(s)]}])}}),n.detailList=e,n.initCharts("charts",a,i,r,o,e)}else n.$message.success("暂无数据")})},initCharts:function(t,e,n,a,i,r){var o=this.modifyData(e,n,a);this.myChart=this.$echarts.init(document.getElementById(t));var l=[],c=[];o[0].forEach(function(t,e){""!==t&&(l.push(e),c.push(t))});var s=l.map(function(t,e){return{source:l[e],target:l[e+1],lineStyle:{width:5,curveness:0,color:"#0073b5"}}}),u=c,d=u[0]?u[0]:u[1],p=u[0]?u[0]:u[1];u.forEach(function(t){d=d>t?t:d,p=p<t?t:p}),i&&i.forEach(function(t){t[0].coord[1]=Math.floor(d),t[1].coord[1]=Math.ceil(p)});var m={color:["#C23531","#2F4554","#D48265"],legend:{data:["液位高度变化曲线","付油组mm变化率","液位组mm变化率"]},grid:{left:"5%",bottom:"3%",right:"5%",containLabel:!0},tooltip:{formatter:function(t){return"graph"===t.componentSubType&&"node"===t.dataType?"时间:"+t.name+"<br/>高度:"+t.data:"graph"===t.componentSubType&&"edge"===t.dataType?"":"line"===t.seriesType?"时间:"+t.name+"<br/>mm变化率:"+t.data:"点击查看该周期"}},xAxis:{type:"category",boundaryGap:!1,data:o[3]},yAxis:[{type:"value",name:"液位高度(mm)",position:"left",min:Math.floor(d),max:Math.ceil(p)},{type:"value",name:"△V/△H",position:"right"}],dataZoom:"oneCycle"===t?[{type:"inside",start:0,end:100}]:null,series:[{name:"液位高度变化曲线",type:"graph",layout:"none",coordinateSystem:"cartesian2d",symbolSize:4,label:{show:!1},edgeSymbol:["circle","arrow"],edgeSymbolSize:[4,10],data:o[0],links:s,lineStyle:{color:"#2f4554"},markArea:{data:i,itemStyle:{color:"rgba(128, 128, 128, 0.1)"}}},{name:"付油组mm变化率",data:o[1],yAxisIndex:1,type:"line",connectNulls:!0,stack:"1",smooth:!0},{name:"液位组mm变化率",data:o[2],yAxisIndex:1,type:"line",connectNulls:!0,stack:"2",smooth:!0}]};this.myChart.setOption(m);var h=this;window.onresize=function(){h.tankSeqLineCharts&&h.tankSeqLineCharts.resize()},h.myChart.on("click",function(t){"markArea"===t.componentType?setTimeout(function(){h.handleSingle(r,t.value)},300):"graph"===t.seriesType&&"edge"===t.dataType&&"admin"===h.username&&setTimeout(function(){var e=r.innerCorrectingDTOs[t.dataIndex];if(e){var n={id:e.group.outRelTraceId,traceId:e.group.traceId,outGroupId:e.group.outGroupId,tankNo:e.group.tankNo,outGroup:{startTime:e.group.startTime,endTime:e.group.endTime,volume:e.group.volume},trace:{startTime:e.dbInventoryTrace.startTime,endTime:e.dbInventoryTrace.endTime}};h.$refs.relationDialog.getData(n,"totalCharts")}},300)})},modifyData:function(t,e,n){var a=[],i=[];[t,e,n].forEach(function(t,e){i.push([]),t.forEach(function(t){a.push(t.value[0]),i[e].push({time:t.value[0],value:t.value[1]})}),i[e]=i[e].sort(function(t,e){return t.time<e.time?1:-1}).reverse()});var r=i[0],l=i[1],c=i[2];(a=Object(o.b)(a.sort(function(t,e){return t<e?1:-1}).reverse())).forEach(function(t,e){t!==(r[e]?r[e].time:"")&&r.splice(e,0,{}),t!==(l[e]?l[e].time:"")&&l.splice(e,0,{}),t!==(c[e]?c[e].time:"")&&c.splice(e,0,{})});for(var s=[r,l,c],u=[],d=function(t){u.push([]),s[t].forEach(function(e){u[t].push(e.time?e.value:"")})},p=0;p<s.length;p++)d(p);return u.push(a),u},toSingleCycle:function(t){this.handleSingle(this.detailList,t.cycleId)},handleSingle:function(t,e){var n=this,a=t.find(function(t){return t.cycleId===e});this.dialogVisible=!0,this.$nextTick(function(){var t=[],e=[],i=[];a.innerCorrectingDTOs.forEach(function(n,r){r!==a.innerCorrectingDTOs.length-1?t.push({value:[n.dbInventoryTrace.startTime,n.dbInventoryTrace.startLevel]}):t.push({value:[n.dbInventoryTrace.startTime,n.dbInventoryTrace.startLevel]},{value:[n.dbInventoryTrace.endTime,n.dbInventoryTrace.endLevel]}),e.push({value:[n.dbInventoryTrace.startTime,n.inventoryRate.toFixed(3)]}),i.push({value:[n.dbInventoryTrace.startTime,n.outRate.toFixed(3)]})}),n.initCharts("oneCycle",t,e,i,null,a)})},compare:function(t,e){return t-e},closeAllDia:function(t){t&&this.getTankNo(1,this.tankNo),this.dialogVisible=!1},prePage:function(){this.getTankNo(--this.pageNum,this.tankNo)},nextPage:function(){this.getTankNo(++this.pageNum,this.tankNo)}}},s=(n("bXh0"),n("KHd+")),u=Object(s.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"container"}},[n("el-button-group",{staticClass:"btnGroup"},t._l(t.cycleList,function(e,a){return n("el-tooltip",{key:a,staticClass:"item",attrs:{effect:"dark",content:"点击查看该周期",placement:"top"}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){t.toSingleCycle(e)}}},[t._v("\n        "+t._s(e.delivery)+"\n      ")])],1)})),t._v(" "),n("div",{style:"width:"+t.bodyWidth+"px;height:"+t.tableHeight+"px",attrs:{id:"charts"}}),t._v(" "),n("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:t.dialogVisible,title:"单个周期详情",width:"1000px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("div",{staticStyle:{width:"990px",height:"600px"},attrs:{id:"oneCycle"}})]),t._v(" "),n("trace-relation",{ref:"relationDialog",on:{closeAllDia:t.closeAllDia}}),t._v(" "),n("div",{staticStyle:{"margin-top":"10px"}},[t.flag?n("el-button",{staticStyle:{float:"right","margin-left":"10px"},attrs:{type:"primary"},on:{click:t.nextPage}},[t._v("\n      下一页\n    ")]):t._e(),t._v(" "),t.pageNum>1?n("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.prePage}},[t._v("\n      上一页\n    ")]):t._e()],1)],1)},[],!1,null,"b7a1387a",null);u.options.__file="index.vue";e.default=u.exports},TxWJ:function(t,e,n){},Vt1q:function(t,e,n){"use strict";n.d(e,"f",function(){return i}),n.d(e,"e",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return l}),n.d(e,"c",function(){return c}),n.d(e,"g",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"i",function(){return d}),n.d(e,"h",function(){return p});var a=n("t3Un");function i(t){return Object(a.a)({url:"/device/tank/list",method:"get",params:t})}function r(t){return Object(a.a)({url:"/device/tank/query",method:"get",params:t})}function o(t){return Object(a.a)({url:"/device/tank/add",method:"post",data:t})}function l(t){return Object(a.a)({url:"/device/tank/update",method:"post",data:t})}function c(t){return Object(a.a)({url:"/device/tank/exist",method:"post",data:t})}function s(t){return Object(a.a)({url:"/volumeTable/get",method:"get",params:t})}function u(t){return Object(a.a)({url:"/device/nozreltank/list",method:"get",params:t})}function d(t){return Object(a.a)({url:"/device/nozreltank/update",method:"post",data:t})}function p(t){return Object(a.a)({url:"/device/nozreltank/cancel",method:"post",data:t})}},WENq:function(t,e,n){},bRJQ:function(t,e,n){"use strict";var a=n("TxWJ");n.n(a).a},bXh0:function(t,e,n){"use strict";var a=n("lwls");n.n(a).a},f8Ow:function(t,e,n){"use strict";n.r(e);var a=n("rG1V"),i=n("X4fA"),r={name:"TotalTable",props:{},data:function(){return{pageNum:1,tableHeight:innerHeight-310,tableData:[],flag:!1,total:0,username:"admin"}},mounted:function(){this.username=Object(i.b)()},methods:{getTankNo:function(t,e){var n=this;this.pageNum=t,this.tankNo=e;var i={tankNo:this.tankNo,pageNum:this.pageNum};Object(a.c)(i).then(function(t){n.tableData=t.info.list,n.tableData.forEach(function(t,e){t.index=e}),n.total=t.info.totalCount,n.flag=n.pageNum<t.info.totalPage})},prePage:function(){this.getTankNo(--this.pageNum,this.tankNo)},nextPage:function(){this.getTankNo(++this.pageNum,this.tankNo)},tableRowClassName:function(t){var e=t.row,n=t.rowIndex;return e.flag?"flag-row":n%2?"another":""},merge:function(t,e){var n=this,i=e.groupId,r=e.traceStartTime,o=e.traceEndTime,l=e.startId,c=e.endId,s=0;if(t){if(this.tableData[e.index-1].flag)return void this.$message.warning("不能与该数据合并");i+=","+this.tableData[e.index-1].groupId,o=this.tableData[e.index-1].traceEndTime,c=this.tableData[e.index-1].endId,s=e.index}else{if(this.tableData[e.index+1].flag)return void this.$message.warning("不能与该数据合并");i+=","+this.tableData[e.index+1].groupId,r=this.tableData[e.index+1].traceStartTime,l=this.tableData[e.index+1].startId,s=e.index+2}var u={tankNo:e.tankNo,startTime:r,endTime:o,segments:[{startId:l,endId:c,levelState:e.traceLevelstate}],groupIds:i};this.$confirm("是否确定合并序号"+(e.index+1)+"和序号"+s+"的数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(a.e)(u).then(function(t){"100"===t.code&&(n.$message({type:"success",message:"修改成功"}),n.getTankNo(1,n.tankNo))})}).catch(function(){n.$message({type:"info",message:"已取消"})})}}},o=(n("8Lhh"),n("bRJQ"),n("KHd+")),l=Object(o.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"container"}},[n("span",{staticClass:"tipsStyle"},[t._v("\n    【提示】体积单位:L  高度单位:mm  温度:℃\n  ")]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{"row-class-name":t.tableRowClassName,data:t.tableData,height:t.tableHeight,border:""}},["admin"===t.username?n("el-table-column",{attrs:{label:"操作",align:"center",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-popover",{attrs:{id:"popover",placement:"right",trigger:"click"}},[n("div",[e.row.index>0?n("el-button",{attrs:{type:"success",size:"mini",plain:"",icon:"el-icon-upload2"},on:{click:function(n){t.merge(!0,e.row)}}},[t._v("\n              与上组合并\n            ")]):t._e(),t._v(" "),e.row.index<t.tableData.length-1?n("el-button",{attrs:{type:"warning",size:"mini",plain:"",icon:"el-icon-download"},on:{click:function(n){t.merge(!1,e.row)}}},[t._v("\n              与下组合并\n            ")]):t._e()],1),t._v(" "),n("el-button",{attrs:{slot:"reference",disabled:e.row.flag,type:"text",size:"mini"},slot:"reference"},[t._v("\n            合并\n          ")])],1)]}}])}):t._e(),t._v(" "),n("el-table-column",{attrs:{prop:"level",align:"center","min-width":"70",label:"高度"}}),t._v(" "),n("el-table-column",{attrs:{align:"center","min-width":"95"},scopedSlots:t._u([{key:"header",fn:function(e){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"付出数 - 相对体积差(Vout - (Vt_out[i] - Vt_out[i-1]))",placement:"top"}},[n("span",[t._v("段内误差")])])]}},{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.segmentError?e.row.segmentError.toFixed(2):0)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"temp",align:"center","min-width":"70",label:"温度"}}),t._v(" "),n("el-table-column",{attrs:{align:"center","min-width":"70"},scopedSlots:t._u([{key:"header",fn:function(e){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"和上一笔液位之间付出数(Vout)",placement:"top"}},[n("span",[t._v("付出数")])])]}},{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.outNum?e.row.outNum.toFixed(2):0)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center","min-width":"100"},scopedSlots:t._u([{key:"header",fn:function(e){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"付出数总和(Sum(Vout))",placement:"top"}},[n("span",[t._v("付出数合计")])])]}},{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.outSum?e.row.outSum.toFixed(2):0)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center","min-width":"90"},scopedSlots:t._u([{key:"header",fn:function(e){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"液位高度对应的相对体积V(t_out)",placement:"top"}},[n("span",[t._v("相对体积")])])]}},{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.volume?e.row.volume.toFixed(2):0)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center","min-width":"100"},scopedSlots:t._u([{key:"header",fn:function(e){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"与上一条数据的相对体积差值(Vt_out[i] - Vt_out[i-1])",placement:"top"}},[n("span",[t._v("相对体积差")])])]}},{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.volumeDifference?e.row.volumeDifference.toFixed(2):0)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center","min-width":"70"},scopedSlots:t._u([{key:"header",fn:function(e){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"付出数合计 - 相对体积(Vout - V(t_out))",placement:"top"}},[n("span",[t._v("误差")])])]}},{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.error?e.row.error.toFixed(2):0)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center","min-width":"70"},scopedSlots:t._u([{key:"header",fn:function(e){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"误差 / 相对体积，用千分率表示(Vout-V(t_out))/V(t_out)",placement:"top"}},[n("span",[t._v("误差率")])])]}},{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.errorRate?e.row.errorRate.toFixed(2):0)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center","min-width":"125"},scopedSlots:t._u([{key:"header",fn:function(e){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"相对体积差/高度差（与上一条高度的差值）((Vt_out[i] - Vt_out[i-1]) / △h)",placement:"top"}},[n("span",[t._v("段内mm变化率")])])]}},{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.segmentRate?e.row.segmentRate.toFixed(2):0)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center","min-width":"70"},scopedSlots:t._u([{key:"header",fn:function(e){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"对应的周期的id",placement:"top"}},[n("span",[t._v("周期")])])]}},{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.deliveryId)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{type:"index",label:"序号",width:"70",align:"center"}})],1),t._v(" "),n("div",{staticStyle:{"margin-top":"10px"}},[t.flag?n("el-button",{staticStyle:{float:"right","margin-left":"10px"},attrs:{type:"primary"},on:{click:t.nextPage}},[t._v("\n      下一页\n    ")]):t._e(),t._v(" "),t.pageNum>1?n("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.prePage}},[t._v("\n      上一页\n    ")]):t._e()],1)],1)},[],!1,null,"b7cf3eea",null);l.options.__file="index.vue";e.default=l.exports},lwls:function(t,e,n){},mxjc:function(t,e,n){"use strict";var a=n("9UEW");n.n(a).a},rG1V:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"e",function(){return o}),n.d(e,"a",function(){return l}),n.d(e,"d",function(){return c}),n.d(e,"f",function(){return s});var a=n("t3Un");function i(t){return Object(a.a)({url:"/correcting/select",method:"get",params:t})}function r(t){return Object(a.a)({url:"/correcting/selecttable",method:"get",params:t})}function o(t){return Object(a.a)({url:"/correcting/update",method:"post",data:t})}function l(t){return Object(a.a)({url:"/tankchartdc/export/export",method:"post",data:t})}function c(t){return Object(a.a)({url:"/tankchartdc/inventoryCycle/select",method:"get",params:t})}function s(t){return Object(a.a)({url:"/tankchartdc/export/select",method:"get",params:t})}}}]);