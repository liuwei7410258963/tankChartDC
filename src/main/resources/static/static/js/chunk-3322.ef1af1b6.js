(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3322"],{A2Ad:function(t,e,a){"use strict";var n=a("z4Rj");a.n(n).a},EspY:function(t,e,a){"use strict";a.r(e);var n=a("P2sY"),i=a.n(n),s=a("14Xm"),l=a.n(s),r=a("D3Ub"),o=a.n(r),d=a("wd/R"),c=a.n(d),u=a("XINx"),v=a("Rut5"),p=a("7Qib"),m=a("Lt/l"),_=a("Vt1q"),y=a("05G/"),h=a("Slx2"),f={name:"DeliveryDefine",components:{elDragDialog:u.a,DatePicker:v.a},data:function(){return{deliveryData:[],listLoading:!1,timeValue:[c()(new Date).format("YYYY-MM-DD 00:00:00"),c()(new Date).format("YYYY-MM-DD HH:mm:ss")],total:0,height:window.screen.height>768?window.screen.height-405:window.screen.height-375,stationOptions:[],stationValue:"",pageSize:window.screen.height>768?[20,40,60,100]:[15,30,50,100],listQuery:{pageNum:1,pageRow:window.screen.height>768?20:15},dialogVisible:!1,detailDialogVisible:!1,dialogTitle:"确认卸油数据",checkedIds:[],tankno:"",updateId:"",ditVol:0,currVol:0,outVol:0,tankOptions:[],mychart:null,oneTraceChart:null,activeName:"first",ditReport:{},systemReport:{}}},created:function(){this.getAllDeliveryData()},methods:{handleSizeChange:function(t){this.listQuery.pageRow=t,this.listQuery.pageNum=1,this.getAllDeliveryData()},handleCurrentChange:function(t){this.listQuery.pageNum=t,this.getAllDeliveryData()},getAllDeliveryData:function(){var t=this;return o()(l.a.mark(function e(){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.listLoading=!0,t.listQueryCheck(),e.next=4,Object(_.e)({status:"1"});case 4:return t.tankOptions=e.sent,e.next=7,Object(m.a)(t.listQuery);case 7:a=e.sent,t.deliveryData=a.list,t.total=a.totalCount,t.listLoading=!1;case 11:case"end":return e.stop()}},e,t)}))()},statusChange:function(t){var e=this;this.updateId=t.id,this.activeName="first",this.ditReport=i()({},t.bzDelivery),this.systemReport=i()({},t.dbInventoryCycle),this.dialogTitle="确认"+t.bzDelivery.tankNo+"号罐卸油数据",this.dialogVisible=!0,this.$nextTick(function(){e.getDrawLineData(t)})},clearChart:function(t){t.forEach(function(t){t&&(t.clear(),t.dispose())})},getDrawLineData:function(t){var e=this;o()(l.a.mark(function a(){var n,i,s,r,o,d,c,u,v;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.clearChart([e.mychart,e.oneTraceChart]),n=Object(p.h)(t.dbInventoryCycle.startTime?t.dbInventoryCycle.startTime:t.bzDelivery.reportStartTime,"-",3),a.next=5,Object(m.b)({startTime:n,endTime:t.dbInventoryCycle.unloadFinishedTime,tankNo:t.bzDelivery.tankNo});case 5:return i=a.sent,s=[],i.info.forEach(function(e){e.startTime<t.dbInventoryCycle.startTime&&s.push({startTime:e.startTime,startVolume:e.startVolume,startLevel:e.startLevel,startTemperature:e.startTemperature,endTime:e.endTime,endVolume:e.endVolume,endLevel:e.endLevel,endTemperature:e.endTemperature})}),a.next=10,Object(y.a)({startTime:i.info[0].startTime,endTime:i.info[i.info.length-1].endTime,flag:!1,tankNo:t.bzDelivery.tankNo});case 10:return r=a.sent,o=[{name:"库存变化",data:[],type:"line",smooth:!0,connectNulls:!0,yAxisIndex:0,markPoint:{data:[]},markLine:{data:[],symbol:"none"}}],r.list.reverse(),r.list.forEach(function(e,a){e.time>=n?o[0].data.push({value:[e.time,e.level,e.volume,e.temperature]}):o[0].data.push({value:[n,r.list[0].level,r.list[0].volume,e.time,r.list[0].temperature]}),e.time===t.dbInventoryCycle.startTime&&(o[0].markPoint.data.push({value:"开始\n体积:"+e.volume+"L",coord:[e.time,e.level]}),o[0].markLine.data.push({yAxis:e.level,label:{position:"start",formatter:function(t){return t.value+"mm"}},lineStyle:{color:"#999",type:"solid",width:2}})),e.time===t.dbInventoryCycle.unloadFinishedTime&&(o[0].markPoint.data.push({value:"结束\n体积:"+e.volume+"L",coord:[e.time,e.level]}),o[0].markLine.data.push({yAxis:e.level,label:{position:"end",formatter:function(t){return t.value+"mm"}},lineStyle:{color:"#999",type:"solid",width:2}}))}),d={flag:!1,tankNo:t.bzDelivery.tankNo,startTime:t.dbInventoryCycle.startTime?t.dbInventoryCycle.startTime:t.bzDelivery.reportStartTime,sign:"delivery",endTime:t.dbInventoryCycle.unloadFinishedTime?t.dbInventoryCycle.unloadFinishedTime:t.bzDelivery.reportEndTime},a.next=17,Object(h.a)(d);case 17:a.sent.list.forEach(function(t){o.push({areaStyle:{},data:[{value:[t.startTime,t.volume]},{value:[t.endTime,t.volume]}],name:"付油量",type:"line",connectNulls:!0,yAxisIndex:1})}),c=o[0].data,u=0,v=0,c.length>0&&(u=c[0].value[1],v=c[0].value[1],c.forEach(function(t){u=u>t.value[1]?t.value[1]:u,v=v<t.value[1]?t.value[1]:v}),u=Math.floor(u),v=Math.ceil(v)),o[0].markArea={data:[[{name:"点击查看液位组详情",value:i.info[i.info.length-1].startTime,coord:[i.info[i.info.length-1].startTime,Math.floor(u)-20]},{coord:[i.info[i.info.length-1].endTime,Math.ceil(v)+20]}]],itemStyle:{color:"rgba(128, 128, 128, 0.1)"},lable:{show:!0}},e.drawChart("lineChart",o,u,v,s),a.next=30;break;case 27:a.prev=27,a.t0=a.catch(0);case 30:case"end":return a.stop()}},a,e,[[0,27]])}))()},drawChart:function(t,e,a,n,i){i?this.mychart=this.$echarts.init(document.getElementById(t)):this.oneTraceChart=this.$echarts.init(document.getElementById(t));var s={title:{text:"库存变化"},tooltip:{trigger:"axis",formatter:function(t){if(!i){var a=t[0].value[0]?"时间："+t[0].value[0]:"";return a+=t[0].value[1]?"<br/>高度："+t[0].value[1]+"mm":"",a+=t[0].value[2]?"<br/>体积："+t[0].value[2]+"L":"",a+=t[0].value[3]?"<br/>温度："+t[0].value[3]+"℃":""}if("库存变化"===t[0].seriesName){if(5===t[0].value.length){var n="液位组开始<hr>";return n+=t[0].value[3]?"时间："+t[0].value[3]:"",n+=t[0].value[1]?"<br/>高度："+t[0].value[1]+"mm":"",n+=t[0].value[2]?"<br/>体积："+t[0].value[2]+"L":"",n+=t[0].value[1]?"<br/>温度："+t[0].value[4]+"℃":""}if(!(t[0].value[0]<=e[0].markPoint.data[0].coord[0])){var s=t[0].value[0]?"时间："+t[0].value[0]:"";return s+=t[0].value[1]?"<br/>高度："+t[0].value[1]+"mm":"",s+=t[0].value[2]?"<br/>体积："+t[0].value[2]+"L":"",s+=t[0].value[3]?"<br/>温度："+t[0].value[3]+"℃":""}var l=null,r=null;if(i.forEach(function(e,a){return t[0].value[0]===e.startTime?(l=a,void(r="start")):t[0].value[0]===e.endTime?(l=a,void(r="end")):void(r="middle")}),"middle"===r){var o=t[0].value[0]?"时间："+t[0].value[0]:"";return o+=t[0].value[1]?"<br/>高度："+t[0].value[1]+"mm":"",o+=t[0].value[2]?"<br/>体积："+t[0].value[2]+"L":"",o+=t[0].value[3]?"<br/>温度："+t[0].value[3]+"℃":""}if("start"===r){var d="";return d+=t[0].value[0]?"时间："+t[0].value[0]:"",d+=t[0].value[1]?"<br/>高度："+t[0].value[1]+"mm":"",d+=t[0].value[2]?"<br/>体积："+t[0].value[2]+"L":"",d+=t[0].value[3]?"<br/>温度："+t[0].value[3]+"℃":"",d+="<hr>持续时间："+((new Date(t[0].value[0]).getTime()-new Date(e[0].data[t[0].dataIndex-1].value[0]).getTime())/6e4).toFixed(1)+"Mins",d+="<br/>高度差："+(t[0].value[1]-i[l-1].startLevel).toFixed(1)+"mm",d+="<br/>体积差："+(t[0].value[2]-i[l-1].startVolume).toFixed(3)+"L",d+="<br/>温度差："+(t[0].value[3]-i[l-1].startTemperature).toFixed(2)+"℃"}if("end"===r){var c="";return c+=t[0].value[0]?"时间："+t[0].value[0]:"",c+=t[0].value[1]?"<br/>高度："+t[0].value[1]+"mm":"",c+=t[0].value[2]?"<br/>体积："+t[0].value[2]+"L":"",c+=t[0].value[3]?"<br/>温度："+t[0].value[3]+"℃":"",c+="<hr>持续时间："+((new Date(t[0].value[0]).getTime()-new Date(i[l].startTime).getTime())/6e4).toFixed(1)+"Mins",c+="<br/>高度差："+(t[0].value[1]-i[l].startLevel).toFixed(1)+"mm",c+="<br/>体积差："+(t[0].value[2]-i[l].startVolume).toFixed(3)+"L",c+="<br/>温度差："+(t[0].value[3]-i[l].startTemperature).toFixed(2)+"℃"}}else if("付油量"===t[0].seriesName){var u=t[0].value[0]?"时间："+t[0].value[0]:"";return u+=t[0].value[1]?"<br/>付油量："+t[0].value[1]+"L":""}}},legend:{data:i?["库存变化","付油量"]:["库存变化"]},grid:{left:"5%",right:"6%",bottom:"3%",top:"15%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},symbolSize:4,xAxis:{type:"time",axisLabel:{formatter:function(t,e){return Object(p.g)(t)}},boundaryGap:!1},yAxis:i?[{name:"高度(mm)",type:"value",min:a-20,max:n+20},{name:"体积(L)",type:"value"}]:[{name:"高度(mm)",type:"value",min:a-2,max:n+1}],dataZoom:[{type:"inside",start:0,end:100}],series:e};i?this.mychart.setOption(s):this.oneTraceChart.setOption(s);var l=this;l.mychart.on("click",function(t){if("markArea"===t.componentType){l.detailDialogVisible=!0;var a=[{data:[],name:"库存变化",type:"line",yAxisIndex:0,connectNulls:!0,smooth:!0,markLine:{data:[{yAxis:e[0].markLine.data[1].yAxis,lineStyle:{color:"#999",type:"solid",width:2},label:{position:"end",formatter:function(t){return t.value+"mm"}}}],symbol:"none"},markPoint:{data:[{value:e[0].markPoint.data[1].value,coord:e[0].markPoint.data[1].coord}]}}];e[0].data.forEach(function(e){t.value<=e.value[0]&&a[0].data.push(e)});var n=a[0].data[0].value[1],i=a[0].data[0].value[1];a[0].data.forEach(function(t){n=n>t.value[1]?t.value[1]:n,i=i<t.value[1]?t.value[1]:i}),n=Math.floor(n),i=Math.ceil(i),l.$nextTick(function(){l.drawChart("oneTrace",a,n,i,null)})}})},submit:function(t){var e=this;if(this.updateId||0!==this.checkedIds.length){var a={flag:t,ids:this.updateId||this.checkedIds.join(",")};Object(m.c)(a).then(function(t){"success"===t.info.result?e.$message.success("修改成功"):e.$message.success("修改失败"),e.dialogVisible=!1,e.getAllDeliveryData()})}else this.$message.warning("请选择要处理的卸油数据")},listQueryCheck:function(){this.listQuery.tankNo=this.tankno||null,this.listQuery.startTime=this.timeValue?Object(p.g)(this.timeValue[0]):null,this.listQuery.endTime=this.timeValue?Object(p.g)(this.timeValue[1]):null},getDes:function(t,e){return parseInt((new Date(t).getTime()-new Date(e).getTime())/6e4)},getNewTime:function(t){this.timeValue=t}}},b=(a("A2Ad"),a("KHd+")),g=Object(b.a)(f,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"container"}},[a("div",{attrs:{id:"top"}},[a("span",{staticStyle:{"font-size":"16px"}},[t._v("罐号:")]),t._v(" "),a("el-select",{attrs:{clearable:""},model:{value:t.tankno,callback:function(e){t.tankno=e},expression:"tankno"}},t._l(t.tankOptions,function(t){return a("el-option",{key:t.tankNo,attrs:{label:t.detailInfo,value:t.tankNo}})})),t._v(" "),a("span",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.$t("table.time"))+":")]),t._v(" "),a("DatePicker",{ref:"timeVue",attrs:{"time-value":t.timeValue},on:{getTime:t.getNewTime}}),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.listQuery.pageNum=1,t.getAllDeliveryData()}}},[t._v("搜索")]),t._v(" "),a("span",{staticClass:"tipsStyle"},[t._v("\n      【提示】体积单位:L  高度单位:mm\n    ")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{id:"table",data:t.deliveryData,height:t.height}},[a("el-table-column",{attrs:{label:"状态",align:"center","min-width":"95px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"查看卸油详情",placement:"right"}},[e.row.flag?a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.statusChange(e.row)}}},[t._v("\n            已确认\n          ")]):a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.statusChange(e.row)}}},[t._v("\n            未确认\n          ")])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"罐号",align:"center","min-width":"50px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.bzDelivery.tankNo)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"油品名",align:"center","show-overflow-tooltip":"","min-width":"60px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.bzDelivery.oilName)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"DIT数据",align:"center"}},[a("el-table-column",{attrs:{label:"卸油量",align:"center","min-width":"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.bzDelivery.volume)+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"期间付出",align:"center","min-width":"85px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.bzDelivery.nozzleOut)+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"开始时间","min-width":"160px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.bzDelivery.reportStartTime)+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"结束时间","min-width":"160px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.bzDelivery.reportEndTime)+"\n        ")]}}])})],1),t._v(" "),a("el-table-column",{attrs:{label:"系统卸油数据",align:"center"}},[a("el-table-column",{attrs:{label:"卸油量",align:"center","min-width":"85px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s((e.row.dbInventoryCycle.unloadV20||0).toFixed(2))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"开始体积",align:"center","min-width":"85px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.dbInventoryCycle.startV20)+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"结束体积",align:"center","min-width":"85px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.dbInventoryCycle.unloadFinishedV20)+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"开始时间","min-width":"160px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.dbInventoryCycle.startTime)+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"结束时间","min-width":"160px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.dbInventoryCycle.unloadFinishedTime)+"\n        ")]}}])})],1)],1),t._v(" "),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:t.dialogVisible,title:t.dialogTitle,top:"5vh",width:"1200px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"卸油报告",name:"first"}},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"10px"},attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"diaDetailFont"},[t._v("dit卸油报告")]),t._v(" "),a("span",{staticClass:"diaDetailFont",staticStyle:{float:"right",color:"#909399"}},[t._v("\n              【提示】体积单位:L  高度单位:mm\n            ")])]),t._v(" "),a("div",{staticClass:"text item"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  开始时间(Time_s):\n                  "+t._s(t.ditReport.reportStartTime)+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  结束时间(Time_e):\n                  "+t._s(t.ditReport.reportEndTime)+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  期间付油量:\n                  "),t._v("\n                  "+t._s(t.ditReport.nozzleOut||0)+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  总收油量v20:\n                  "+t._s(t.ditReport.volume||0)+"\n                ")])])],1),t._v(" "),a("hr"),t._v(" "),a("span",{staticClass:"diaDetailFont",staticStyle:{"font-weight":"600",color:"#909399"}},[t._v("\n              匹配罐存数据\n            ")]),t._v(" "),a("el-row",{staticStyle:{"margin-top":"5px"}},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  开始液位(L_s):\n                  "+t._s(t.ditReport.startInventory?t.ditReport.startInventory.level:0)+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  开始标准体积(V20_s):\n                  "+t._s(t.ditReport.startInventory?t.ditReport.startInventory.v20:0)+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  开始视体积(Vt_s):\n                  "+t._s(t.ditReport.startInventory?t.ditReport.startInventory.volume:0)+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  开始温度(Temp_s):\n                  "+t._s(t.ditReport.startInventory?t.ditReport.startInventory.temperature:0)+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  匹配收油量vt:\n                  "+t._s(((t.ditReport.endInventory?t.ditReport.endInventory.volume:0)-(t.ditReport.startInventory?t.ditReport.startInventory.volume:0)).toFixed(2))+"\n                ")])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"5px"}},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  结束液位(L_e):\n                  "+t._s(t.ditReport.endInventory?t.ditReport.endInventory.level:0)+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  结束标准体积(V20_e):\n                  "+t._s(t.ditReport.endInventory?t.ditReport.endInventory.v20:0)+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  结束视体积(Vt_e):\n                  "+t._s(t.ditReport.endInventory?t.ditReport.endInventory.volume:0)+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  结束温度(Temp_e):\n                  "+t._s(t.ditReport.endInventory?t.ditReport.endInventory.temperature:0)+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  匹配收油量v20:\n                  "+t._s(((t.ditReport.endInventory?t.ditReport.endInventory.v20:0)-(t.ditReport.startInventory?t.ditReport.startInventory.v20:0)).toFixed(2))+"\n                ")])])],1)],1)]),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"10px"},attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"diaDetailFont"},[t._v("系统卸油报告")])]),t._v(" "),a("div",{staticClass:"text item"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  开始时间(Time_s):\n                  "+t._s(t.systemReport.startTime)+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  结束时间(Time_e):\n                  "+t._s(t.systemReport.unloadFinishedTime)+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  总收油量v20:\n                  "+t._s(((t.systemReport.nozzleOutWhenDelivery||0)+(t.systemReport.unloadV20||0)).toFixed(2))+"\n                ")])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"5px"}},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  开始液位(L_s):\n                  "+t._s(t.systemReport.startLevel||0)+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  开始标准体积(V20_s):\n                  "+t._s(t.systemReport.startV20||0)+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  开始视体积(Vt_s):\n                  "+t._s(t.systemReport.startVolume||0)+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  开始温度(Temp_s):\n                  "+t._s(t.systemReport.startTemperature||0)+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  期间付油量:\n                  "+t._s(t.systemReport.nozzleOutWhenDelivery||0)+"\n                ")])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"5px"}},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  结束液位(L_e):\n                  "+t._s(t.systemReport.unloadFinishedLevel||0)+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  结束标准体积(V20_e):\n                  "+t._s(t.systemReport.unloadFinishedV20||0)+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  结束视体积(Vt_e):\n                  "+t._s(t.systemReport.unloadFinishedVolume||0)+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  结束温度(Temp_e):\n                  "+t._s(t.systemReport.unloadFinishedTemperature||0)+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  收油量v20:\n                  "+t._s((t.systemReport.unloadV20||0).toFixed(2))+"\n                ")])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"5px"}})],1)]),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"10px"},attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"diaDetailFont"},[t._v("卸油报告对比")])]),t._v(" "),a("div",{staticClass:"text item"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  开始时间差(ΔTime_s):\n                  "+t._s(t.getDes(t.systemReport.startTime,t.ditReport.reportStartTime))+"分钟\n                ")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  结束时间差(ΔTime_e):\n                  "+t._s(t.getDes(t.systemReport.unloadFinishedTime,t.ditReport.reportEndTime))+"\n                  分钟\n                ")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  总收油量差v20:\n                  "+t._s(((t.systemReport.nozzleOutWhenDelivery||0)+(t.systemReport.unloadV20||0)-(t.ditReport.volume||0)).toFixed(2))+"\n                ")])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"5px"}},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  开始液位差(ΔL_s):\n                  "+t._s(((t.systemReport.startLevel||0)-(t.ditReport.startInventory?t.ditReport.startInventory.level:0)).toFixed(2))+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  开始标准体积差(ΔV20_s):\n                  "+t._s(((t.systemReport.startV20||0)-(t.ditReport.startInventory?t.ditReport.startInventory.v20:0)).toFixed(2))+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  开始视体积差(ΔVt_s):\n                  "+t._s(((t.systemReport.startVolume||0)-(t.ditReport.startInventory?t.ditReport.startInventory.volume:0)).toFixed(2))+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  开始温度差(ΔTemp_s):\n                  "+t._s(((t.systemReport.startTemperature||0)-(t.ditReport.startInventory?t.ditReport.startInventory.temperature:0)).toFixed(2))+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  期间付油量差:\n                  "+t._s(((t.systemReport.nozzleOutWhenDelivery||0)-(t.ditReport.nozzleOut||0)).toFixed(2))+"\n                ")])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"5px"}},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  结束液位差(ΔL_e):\n                  "+t._s(((t.systemReport.unloadFinishedLevel||0)-(t.ditReport.endInventory?t.ditReport.endInventory.level:0)).toFixed(2))+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  结束标准体积差(ΔV20_e):\n                  "+t._s(((t.systemReport.unloadFinishedV20||0)-(t.ditReport.endInventory?t.ditReport.endInventory.v20:0)).toFixed(2))+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  结束视体积差(ΔVt_e):\n                  "+t._s(((t.systemReport.unloadFinishedVolume||0)-(t.ditReport.endInventory?t.ditReport.endInventory.volume:0)).toFixed(2))+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"diaDetailFont"},[t._v("\n                  结束温度差(ΔTemp_e):\n                  "+t._s(((t.systemReport.unloadFinishedTemperature||0)-(t.ditReport.endInventory?t.ditReport.endInventory.temperature:0)).toFixed(2))+"\n                ")])])],1)],1)])],1),t._v(" "),a("el-tab-pane",{attrs:{label:"库存变化",name:"second"}},[a("div",{staticStyle:{width:"1170px",height:"477px"},attrs:{id:"lineChart"}})])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.submit(!1)}}},[t._v("取消确认")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submit(!0)}}},[t._v("确 认")])],1)],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.listQuery.pageNum,"page-size":t.listQuery.pageRow,total:t.total,"page-sizes":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",background:""},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:t.detailDialogVisible,title:"波动液位组详情",top:"5vh",width:"1200px"},on:{"update:visible":function(e){t.detailDialogVisible=e}}},[a("div",{staticStyle:{width:"1170px",height:"477px"},attrs:{id:"oneTrace"}})])],1)},[],!1,null,"773eb308",null);g.options.__file="delivery_define.vue";e.default=g.exports},"Lt/l":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"c",function(){return s}),a.d(e,"b",function(){return l});var n=a("t3Un");function i(t){return Object(n.a)({url:"/delivery/confirm/list",method:"get",params:t})}function s(t){return Object(n.a)({url:"/delivery/confirm/update",method:"post",params:t})}function l(t){return Object(n.a)({url:"/inventoryTraceInTime",method:"get",params:t})}},Rut5:function(t,e,a){"use strict";var n=a("7Qib"),i={name:"DatePicker",props:{timeValue:{type:Array,default:function(){return[]}}},data:function(){return{timeList:this.timeValue,pickerOptions:this.timePick()}},methods:{getTime:function(t){this.timeList=t},timePick:function(t){var e=Object(n.g)((new Date).getTime()-864e5).split(" ")[0],a=Object(n.g)((new Date).getTime()-1728e5).split(" ")[0],i=Object(n.g)((new Date).getTime()-5184e5).split(" ")[0];return{shortcuts:[{text:this.$t("table.today"),onClick:function(t){var e=new Date,a=new Date;e.setTime(new Date(e.toLocaleDateString()).getTime()),t.$emit("pick",[e,a])}},{text:this.$t("table.yesterday"),onClick:function(t){var a=e+" 00:00:00",n=e+" 23:59:59";t.$emit("pick",[a,n])}},{text:this.$t("table.nearly_three_days"),onClick:function(t){var e=a+" 00:00:00",n=new Date;t.$emit("pick",[e,n])}},{text:this.$t("table.nearly_aweek"),onClick:function(t){var e=i+" 00:00:00",a=new Date;t.$emit("pick",[e,a])}}]}},changeTime:function(t){this.$emit("getTime",t)}}},s=a("KHd+"),l=Object(s.a)(i,function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-date-picker",{attrs:{"start-placeholder":t.$t("table.startTime"),"end-placeholder":t.$t("table.endTime"),"picker-options":t.pickerOptions,type:"datetimerange",align:"right"},on:{change:t.changeTime},model:{value:t.timeList,callback:function(e){t.timeList=e},expression:"timeList"}})},[],!1,null,null,null);l.options.__file="index.vue";e.a=l.exports},Slx2:function(t,e,a){"use strict";a.d(e,"a",function(){return i});var n=a("t3Un");function i(t){return Object(n.a)({url:"/nozzle/list",method:"get",params:t})}},z4Rj:function(t,e,a){}}]);