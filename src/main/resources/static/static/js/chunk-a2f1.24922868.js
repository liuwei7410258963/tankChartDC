(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a2f1"],{GTu9:function(e,t,a){},IAxT:function(e,t,a){"use strict";var n=a("stDE");a.n(n).a},Iu69:function(e,t,a){"use strict";a.r(t);var n=a("7Qib"),i=a("hffR"),s=a("XINx"),l=a("t3Un");var r=a("j7fn"),o=a("wd/R"),d=a.n(o),c={name:"GunPrecision",directives:{elDragDialog:s.a},components:{handleTable:i.a},data:function(){return{nozzleNo:"",timeValue:[d()(new Date).format("YYYY/MM/DD 00:00:00"),new Date],gunPerData:[],height:window.screen.height>768?.7*document.body.clientHeight:.6*document.body.clientHeight,listLoading:!1,tableHeader:this.getHeader(),tableOption:{border:!0,height:.6*window.screen.height},updateCheck:(Object(n.e)("gunper_checked").replace(/\"/g,"")||this.getChecked().toString()).split(","),updateHeader:Object(n.f)("gunper",this.getHeader())||this.getHeader(),listQuery:{pageNum:1,pageRow:window.screen.height>768?20:15},total:0,pageSize:window.screen.height>768?[20,40,60,100]:[15,30,50,100],dialogValObjVisible:!1,formLabelWidth:"120px",gunOptions:[],addPrecision:[],valObj:{id:"",nozzleId:"",nozzleNo:"",fromDate:"",errorCoe:""},rules:{}}},created:function(){this.getAllGun(),this.getAllOilList()},methods:{getAllGun:function(){var e=this;this.gunOptions=[],Object(r.d)().then(function(t){t.list.forEach(function(t){e.gunOptions.push({no:t.dispenserNo,name:t.detailInfo})})})},handleSizeChange:function(e){this.listQuery.pageRow=e,this.listQuery.pageNum=1,this.getAllOilList()},handleCurrentChange:function(e){this.listQuery.pageNum=e,this.getAllOilList()},getAllOilList:function(){var e,t=this;this.listLoading=!0,this.listQuery.nozzleNo=""===this.nozzleNo?null:this.nozzleNo,this.listQuery.fromDate=this.timeValue?Object(n.g)(this.timeValue[0]):"",this.listQuery.endDate=this.timeValue?Object(n.g)(this.timeValue[1]):"",(e=this.listQuery,Object(l.a)({url:"/dispenserError",method:"get",params:e})).then(function(e){t.gunPerData=e.list,t.total=e.totalCount,t.listLoading=!1})},getHeader:function(){return[{prop:"",label:"油枪编号"},{prop:"",label:"油枪检定时间"},{prop:"shortName",label:"检定不确定度值"},{prop:"density",label:"校正不确定度值"}]},getChecked:function(){var e=[];for(var t in this.getHeader())e.push(this.getHeader()[t].label);return e},handleAddClick:function(){this.dialogValObjVisible=!0,this.addPrecision=[{fromDate:"",errorCoe:""}]},addNamePhone:function(){this.addPrecision.push({fromDate:"",errorCoe:""})},decrease:function(e){this.addPrecision.splice(e,1)},handleEditClick:function(e){},sureDiaglogOperate:function(){var e=this,t=this.valObj,a={nozzleId:t.nozzleId,nozzleNo:t.nozzleNo,fromDate:t.fromDate,errorCoe:t.errorCoe};this.$refs.valObj.validate(function(t){var n;t&&(a.id=e.valObj.id,(n=a,Object(l.a)({url:"/dispenserError/nozzleNo",method:"get",params:n})).then(function(t){t?e.$message({message:e.$t("company.edit_success"),type:"success"}):e.$message({message:e.$t("company.edit_fail"),type:"error"}),e.getAllOilList()}),e.dialogValObjVisible=!1)})}}},u=(a("j0UY"),a("KHd+")),h=Object(u.a)(c,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("div",{attrs:{id:"top"}},[a("el-row",[a("el-col",{attrs:{lg:5,xl:4}},[a("span",{staticStyle:{"font-size":"16px",display:"inline-block"}},[e._v("\n          油枪编号:\n        ")]),e._v(" "),a("el-input",{staticClass:"input-with-select",staticStyle:{width:"180px"},attrs:{clearable:"",size:"small"},model:{value:e.nozzleNo,callback:function(t){e.nozzleNo=t},expression:"nozzleNo"}})],1),e._v(" "),a("el-col",{attrs:{lg:12,xl:7}},[a("span",{staticStyle:{"font-size":"16px",display:"inline-block"}},[e._v("\n          时间：\n        ")]),e._v(" "),a("el-date-picker",{attrs:{format:e.$t("comm.date_format"),"start-placeholder":"开始时间","end-placeholder":"结束时间",type:"datetimerange",align:"right"},model:{value:e.timeValue,callback:function(t){e.timeValue=t},expression:"timeValue"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{size:"small",icon:"el-icon-search",type:"primary"},on:{click:function(t){e.listQuery.pageNum=1,e.getAllOilList()}}},[e._v("\n          "+e._s(e.$t("table.search"))+"\n        ")])],1),e._v(" "),a("div",{staticStyle:{float:"right","margin-bottom":"10px"}},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.handleAddClick}},[e._v("\n          "+e._s(e.$t("table.add"))+"\n        ")])],1)],1)],1),e._v(" "),a("handleTable",{ref:"gunper",staticClass:"out-table",attrs:{loading:e.listLoading,data:e.gunPerData,header:e.tableHeader,option:e.tableOption,height:e.height,defaultcheck:e.updateCheck,defaulheader:e.updateHeader,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{slot:"handled",label:e.$t("table.actions"),align:"center","min-width":"150px"},slot:"handled",scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"primary"},on:{click:function(a){e.handleEditClick(t.row)}}},[e._v("\n          "+e._s(e.$t("table.edit"))+"\n        ")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.listQuery.pageNum,"page-size":e.listQuery.pageRow,total:e.total,"page-sizes":e.pageSize,layout:" total, sizes, prev, pager, next, jumper",background:""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],staticClass:"diaSty",attrs:{visible:e.dialogValObjVisible,title:"添加油枪精度"},on:{"update:visible":function(t){e.dialogValObjVisible=t}}},[a("el-form",{ref:"valObj",attrs:{model:e.valObj,rules:e.rules}},[e._e(),e._v(" "),a("table",[a("tr",[a("td",[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"油枪名称",prop:"fullName"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.valObj.nozzleId,callback:function(t){e.$set(e.valObj,"nozzleId",t)},expression:"valObj.nozzleId"}},e._l(e.gunOptions,function(e){return a("el-option",{key:e.no,attrs:{label:e.name,value:e.no}})}))],1)],1),e._v(" "),a("td",{attrs:{colspan:"3"}},[a("div",{staticStyle:{cursor:"pointer"},attrs:{id:"cir"},on:{click:e.addNamePhone}},[a("el-tooltip",{staticClass:"item",attrs:{content:"点击增加油枪精度",effect:"dark",placement:"left-end"}},[a("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"font-size":"24px",display:"inline-block",float:"right"}})])],1)])]),e._v(" "),e._l(e.addPrecision,function(t,n){return a("tr",{key:n},[a("td",[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"开始时间",prop:"fromDate"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.valObj.fromDate,callback:function(t){e.$set(e.valObj,"fromDate",t)},expression:"valObj.fromDate"}})],1)],1),e._v(" "),a("td",[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"检定不确定度值",prop:"errorCoe"}},[a("el-input",{model:{value:e.valObj.errorCoe,callback:function(t){e.$set(e.valObj,"errorCoe",t)},expression:"valObj.errorCoe"}})],1)],1),e._v(" "),a("td",[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"校正不确定度值",prop:"errorCoe"}},[a("el-input",{model:{value:e.valObj.errorCoe,callback:function(t){e.$set(e.valObj,"errorCoe",t)},expression:"valObj.errorCoe"}})],1)],1),e._v(" "),a("td",[a("span",{on:{click:function(t){e.decrease(n)}}},[a("i",{staticClass:"el-icon-remove-outline",staticStyle:{"font-size":"14px",display:"inline-block",cursor:"pointer"}})])])])})],2)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogValObjVisible=!1}}},[e._v(e._s(e.$t("table.cancel")))]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.sureDiaglogOperate}},[e._v(e._s(e.$t("table.confirm")))])],1)],1)],1)},[],!1,null,"bcbb7c5c",null);h.options.__file="gun_precision.vue";t.default=h.exports},RnhZ:function(e,t,a){var n={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-SG":"zavE","./en-SG.js":"zavE","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function i(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id="RnhZ"},hffR:function(e,t,a){"use strict";var n=a("gDS+"),i=a.n(n),s={props:{data:{default:function(){return[]},type:Array},header:{default:function(){return[]},type:Array},option:{default:function(){return{}},type:Object},defaultcheck:{default:function(){return[]},type:Array},defaulheader:{default:function(){return[]},type:Array},vuename:{default:function(){return""},type:String},callback:{type:Function,default:null},loading:{type:Boolean,default:!1},height:{default:function(){return window.screen.height>768?.595*window.screen.height:.64*window.screen.height},type:Number}},data:function(){return{tableHeader:this.header,dragState:{start:-9,end:-9,dragging:!1,direction:void 0},checkboxVal:this.defaultcheck,formThead:this.defaulheader,check_width:this.header.length>20?400:220}},watch:{checkboxVal:function(e,t){this.formThead=this.tableHeader.filter(function(t){return e.indexOf(t.label)>=0}),this.setCookie(this.vuename,i()(this.formThead)),this.setCookie(this.vuename+"_checked",'"'+e.toString()+'"'),this.key=this.key+1}},methods:{callbackClassName:function(e){var t=e.row,a=e.rowIndex;if(this.callback)return this.callback({row:t,rowIndex:a})},findHidden:function(){this.defaulheader.forEach(function(e){})},handleSelectionChange:function(e){this.$emit("onHandleSelectionChange",e)},rowClick:function(e,t,a){if(a&&"selection"!==a.type&&"operation"!==a.columnKey&&"expand"!==a.type){var n={row:e,event:t,column:a};this.$emit("onRowClick",n)}},renderHeader:function(e,t){var a=this,n=t.column;return e("div",{class:["thead-cell"],on:{mousedown:function(e){a.handleMouseDown(e,n)},mousemove:function(e){a.handleMouseMove(e,n)}}},[e("a",n.label),e("span",{class:["virtual"]})])},handleMouseDown:function(e,t){this.dragState.dragging=!0,this.dragState.start=parseInt(t.columnKey),document.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp:function(){this.dragColumn(this.dragState),this.dragState={start:-9,end:-9,dragging:!1,direction:void 0},document.removeEventListener("mouseup",this.handleMouseUp)},handleMouseMove:function(e,t){if(!this.dragState.dragging)return!1;var a=parseInt(t.columnKey);a-this.dragState.start!=0?(this.dragState.direction=a-this.dragState.start<0?"left":"right",this.dragState.end=parseInt(t.columnKey)):this.dragState.direction=void 0},dragColumn:function(e){for(var t=e.start,a=e.end,n=[],s="left"===e.direction,l=s?a:t-1,r=s?t+1:a,o=0;o<this.formThead.length;o++)o===a?n.push(this.formThead[t]):o>l&&o<r?n.push(this.formThead[s?o-1:o+1]):n.push(this.formThead[o]);this.formThead=n,this.setCookie(this.vuename,i()(this.formThead))},headerCellClassName:function(e){e.column;var t=e.columnIndex;return(t===this.dragState.end?"darg_active_"+this.dragState.direction:"")+" "+(t===this.dragState.start?"darg_start":"")},cellClassName:function(e){e.column;return e.columnIndex===this.dragState.start?"darg_start":""},tableRowClassName:function(e){var t=e.row,a=e.rowIndex;this.$emit("tableRowClassName",{row:t,rowIndex:a})},setCookie:function(e,t){document.cookie=e+"="+t+"; "}}},l=(a("IAxT"),a("KHd+")),r=Object(l.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w-table",class:{"w-table_moving":e.dragState.dragging}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:{width:parseInt(e.option.width)+"px"},attrs:{data:e.data,border:e.option.border,height:e.height,"max-height":e.option.maxHeight,"cell-class-name":e.cellClassName,"row-class-name":e.callbackClassName,"header-cell-class-name":e.headerCellClassName,"highlight-current-row":"",stripe:""},on:{"selection-change":e.handleSelectionChange,"row-click":e.rowClick}},[e._t("fixed"),e._v(" "),e._l(e.formThead,function(t,n){return a("el-table-column",{key:n,attrs:{prop:t.prop,label:e.$t(t.label),width:t.width,"min-width":t.minWidth,type:t.type,fixed:t.fixed,formatter:t.formatter,"header-align":t.headerAlign,"column-key":n.toString(),"render-header":e.renderHeader,align:"center","show-overflow-tooltip":""}})}),e._v(" "),e._t("handled")],2)],1)},[],!1,null,null,null);r.options.__file="handleTable.vue";t.a=r.exports},j0UY:function(e,t,a){"use strict";var n=a("GTu9");a.n(n).a},j7fn:function(e,t,a){"use strict";a.d(t,"d",function(){return i}),a.d(t,"a",function(){return s}),a.d(t,"b",function(){return l}),a.d(t,"c",function(){return r});var n=a("t3Un");function i(e){return Object(n.a)({url:"/device/nozzle/list",method:"get",params:e})}function s(e){return Object(n.a)({url:"/device/nozzle/add",method:"post",data:e})}function l(e){return Object(n.a)({url:"/device/nozzle/update",method:"post",data:e})}function r(e){return Object(n.a)({url:"/device/nozzle/exist",method:"post",data:e})}},stDE:function(e,t,a){}}]);