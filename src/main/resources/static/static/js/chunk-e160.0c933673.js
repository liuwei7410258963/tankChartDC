(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e160"],{MDVd:function(t,e,l){"use strict";var n=l("jJaL");l.n(n).a},MZEg:function(t,e,l){"use strict";l.d(e,"b",function(){return i}),l.d(e,"a",function(){return a}),l.d(e,"c",function(){return o});var n=l("t3Un");function i(t){return Object(n.a)({url:"/station/getall",method:"get",params:t})}function a(t){return Object(n.a)({url:"/station/update",method:"post",data:t})}function o(t){return Object(n.a)({url:"/serverLog/select",method:"get",params:t})}},PpuG:function(t,e,l){"use strict";l.r(e);var n=l("MZEg"),i={name:"StationDetail",components:{},data:function(){return{firSpan:window.screen.height>768?8:10,secSpan:window.screen.height>768?16:14,activeNames:["1"],editBtn:!1,form:{station_name:null,station_short_name:null,zip:null,phone:null,landline:null,mail:null,station_id:null,station_code:null,version:null,url:null,update_time:null,station_abbreviation:null,detail_info:null,location:null,id:null,status:null,longitude:null,latitude:null},detailRules:{station_code:[{validator:function(t,e,l){null===e||""===e?l("油站编号不能为空"):e.length>20?l("油站编号超过指定长度"):l()},required:!0,trigger:"change"}],station_name:[{validator:function(t,e,l){null===e||""===e?l("油站全称不能为空"):e.length>100?l("油站全称超过指定长度"):/^[A-Za-z0-9_\u4e00-\u9fa5]{1,100}$/.test(e)?l():l("油站全称仅允许中英文、数字、下划线")},required:!0,trigger:"change"}],station_short_name:[{validator:function(t,e,l){null===e||""===e?l("油站简称不能为空"):e.length>12?l("油站简称超过指定长度"):/^[A-Za-z0-9_\u4e00-\u9fa5]{1,100}$/.test(e)?l():l("油站简称仅允许中英文、数字、下划线")},required:!0,trigger:"change"}],url:[{validator:function(t,e,l){null===e||""===e?l("URL不能为空"):e.length>200?l("URL超过指定长度"):l()},required:!0,trigger:"change"}],mail:[{validator:function(t,e,l){null===e||""===e?l("通讯地址不能为空"):e.length>200?l("通讯地址超过指定长度"):l()},required:!0,trigger:"change"}],phone:[{validator:function(t,e,l){null===e||""===e?l("移动手机号不能为空"):/^1(3|4|5|7|8)\d{9}$/.test(e)?l():l("移动手机号格式错误")},required:!0,trigger:"change"}],landline:[{validator:function(t,e,l){null===e||""===e?l("座机号码不能为空"):/^((0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/.test(e)?l():l("座机号码格式错误: 区号+号码")},required:!0,trigger:"change"}],zip:[{validator:function(t,e,l){null===e||""===e?l():/^[0-9]{6}$/.test(e)?e.length>8?l("邮编超过指定长度"):l():l("邮编格式不正确")},required:!0,trigger:"change"}],longitude:[{validator:function(t,e,l){null===e&&""===e||!(e<-180||e>180)?l():l("经度区间为-180°~+180°")},required:!0,trigger:"change"}],latitude:[{validator:function(t,e,l){null===e&&""===e||!(e<-90||e>90)?l():l("纬度区间为-90° ~ +90°")},required:!0,trigger:"change"}]}}},mounted:function(){this.getInfo()},methods:{getInfo:function(){var t=this;Object(n.b)().then(function(e){0===e.list.length?t.form={station_name:"",station_short_name:"",zip:"",phone:"",landline:"",mail:"",station_id:"",latitude:"",station_code:"",version:"",url:"",update_time:"",station_abbreviation:"",detail_info:"",location:"",id:"",status:"",longitude:""}:t.form=e.list[0]})},submit:function(){var t=this,e=[],l={type:"gps",longitude:this.form.longitude,latitude:this.form.latitude};e.push(l);var i={type:"url",url:this.form.url};e.push(i);var a={type:"mail",mail:this.form.mail,zip:this.form.zip};e.push(a);var o={type:"location",location:this.form.location};e.push(o);var r={type:"station",StationName:this.form.station_name,stationCode:this.form.station_code,station_short_name:this.form.station_short_name,phone:this.form.phone,landline:this.form.landline,stationId:1};e.push(r),this.$refs.form.validate(function(l){l&&Object(n.a)(e).then(function(e){"success"===e.info.result&&(t.$message({message:"修改成功",type:"success"}),t.editBtn=!1,t.getInfo(),t.$refs.form.resetFields())})})},cancel:function(){this.editBtn=!1,this.getInfo(),this.$refs.form.resetFields()}}},a=(l("MDVd"),l("KHd+")),o=Object(a.a)(i,function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{attrs:{id:"monitor_container"}},[l("el-card",{attrs:{shadow:"never"}},[l("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[l("span",{staticStyle:{"font-size":"18px"}},[t._v("加油站信息")]),t._v(" "),t.editBtn?t._e():l("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){t.editBtn=!0}}},[t._v("\n        编辑\n      ")]),t._v(" "),t.editBtn?l("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){t.submit()}}},[t._v("\n        提交\n      ")]):t._e(),t._v(" "),t.editBtn?l("el-button",{staticStyle:{float:"right",padding:"3px 15px"},attrs:{type:"text"},on:{click:t.cancel}},[t._v("\n        取消\n      ")]):t._e()],1),t._v(" "),l("el-form",{ref:"form",attrs:{model:t.form,rules:t.detailRules,"label-width":"120px"}},[l("el-row",[l("el-col",{attrs:{xl:6,lg:8}},[l("el-form-item",{attrs:{label:"油站编号",prop:"station_code"}},[l("el-input",{staticStyle:{width:"90%"},attrs:{disabled:!t.editBtn},model:{value:t.form.station_code,callback:function(e){t.$set(t.form,"station_code",e)},expression:"form.station_code"}})],1)],1),t._v(" "),l("el-col",{attrs:{xl:6,lg:8}},[l("el-form-item",{attrs:{label:"油站全称",prop:"station_name"}},[l("el-input",{staticStyle:{width:"90%"},attrs:{disabled:!t.editBtn},model:{value:t.form.station_name,callback:function(e){t.$set(t.form,"station_name",e)},expression:"form.station_name"}})],1)],1),t._v(" "),l("el-col",{attrs:{xl:6,lg:8}},[l("el-form-item",{attrs:{label:"油站简称",prop:"station_short_name"}},[l("el-input",{staticStyle:{width:"90%"},attrs:{disabled:!t.editBtn},model:{value:t.form.station_short_name,callback:function(e){t.$set(t.form,"station_short_name",e)},expression:"form.station_short_name"}})],1)],1),t._v(" "),l("el-col",{attrs:{xl:6,lg:8}},[l("el-form-item",{attrs:{label:"URL",prop:"url"}},[l("el-input",{staticStyle:{width:"90%"},attrs:{disabled:!t.editBtn},model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}})],1)],1),t._v(" "),l("el-col",{attrs:{xl:6,lg:8}},[l("el-form-item",{attrs:{label:"邮编",prop:"zip"}},[l("el-input",{staticStyle:{width:"90%"},attrs:{disabled:!t.editBtn},model:{value:t.form.zip,callback:function(e){t.$set(t.form,"zip",e)},expression:"form.zip"}})],1)],1),t._v(" "),l("el-col",{attrs:{xl:6,lg:8}},[l("el-form-item",{attrs:{label:"通讯地址",prop:"mail"}},[l("el-input",{staticStyle:{width:"90%"},attrs:{disabled:!t.editBtn},model:{value:t.form.mail,callback:function(e){t.$set(t.form,"mail",e)},expression:"form.mail"}})],1)],1),t._v(" "),l("el-col",{attrs:{xl:6,lg:8}},[l("el-form-item",{attrs:{label:"移动手机号",prop:"phone"}},[l("el-input",{staticStyle:{width:"90%"},attrs:{disabled:!t.editBtn},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1)],1),t._v(" "),l("el-col",{attrs:{xl:6,lg:8}},[l("el-form-item",{attrs:{label:"座机号码",prop:"landline"}},[l("el-input",{staticStyle:{width:"90%"},attrs:{disabled:!t.editBtn},model:{value:t.form.landline,callback:function(e){t.$set(t.form,"landline",e)},expression:"form.landline"}})],1)],1),t._v(" "),l("el-col",{attrs:{xl:6,lg:8}},[l("el-form-item",{attrs:{label:"经度坐标",prop:"longitude"}},[l("el-input",{staticStyle:{width:"90%"},attrs:{disabled:!t.editBtn},model:{value:t.form.longitude,callback:function(e){t.$set(t.form,"longitude",t._n(e))},expression:"form.longitude"}})],1)],1),t._v(" "),l("el-col",{attrs:{xl:6,lg:8}},[l("el-form-item",{attrs:{label:"纬度坐标",prop:"latitude"}},[l("el-input",{staticStyle:{width:"90%"},attrs:{disabled:!t.editBtn},model:{value:t.form.latitude,callback:function(e){t.$set(t.form,"latitude",t._n(e))},expression:"form.latitude"}})],1)],1)],1)],1)],1)],1)},[],!1,null,"28d6f30f",null);o.options.__file="station_detail.vue";e.default=o.exports},jJaL:function(t,e,l){}}]);